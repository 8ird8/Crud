<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Students List</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css"
      referrerpolicy="no-referrer"
    />
  </head>
  <body>
    <section>
      <div class="flex justify-between mt-16 mb-2">
        <h1 class="text-3xl font-bold capitalize">Student List</h1>
        <button
          class="bg-purple-700 text-white px-8 rounded-md focus:outline-none focus:ring focus:border-blue-300"
        >
          <a href="/add"> Add Student</a>
        </button>
      </div>
      <hr />
      <div class="flex flex-col">
        <div class="overflow-x-auto sm:-mx-6 lg:-mx-8">
          <div class="inline-block min-w-full py-2 sm:px-6 lg:px-8">
            <div class="overflow-hidden">
              <table class="min-w-full text-left text-sm font-light">
                <thead class="border-b font-medium dark:border-neutral-500">
                  <tr>
                    <th scope="col" class="px-6 py-4">Full Name</th>
                    <th scope="col" class="px-6 py-4">Image</th>
                    <th scope="col" class="px-6 py-4">Email</th>
                    <th scope="col" class="px-6 py-4">Phone</th>
                    <th scope="col" class="px-6 py-4">Enroll Number</th>
                    <th scope="col" class="px-6 py-4">Date of Admition</th>
                  </tr>
                </thead>
                <tbody>
                  <% for(let student of AllStudent) { %>
                  <tr class="border-b dark:border-neutral-500">
                    <td class="whitespace-nowrap px-6 py-4">
                      <%= student.Sname %>
                    </td>
                    <td class="whitespace-nowrap px-6 py-4 w-1/5">
                      <img
                        src=" <%= student.image  %> "
                        alt=""
                        class="w-14 rounded-full h-14"
                      />
                    </td>
                    <td class="whitespace-nowrap px-6 py-4">
                      <%= student.Semail %>
                    </td>
                    <td class="whitespace-nowrap px-6 py-4">
                      <%= student.Sphone %>
                    </td>
                    <td class="whitespace-nowrap px-6 py-4">
                      <%= student.id %>
                    </td>
                    <td class="whitespace-nowrap px-6 py-4">
                      <%= new
                      Date(student.created_at).toLocaleDateString("en-US", {
                      month: "short", day: "numeric", year: "numeric" }) %>
                    </td>

                    <td
                      class="whitespace-nowrap px-6 py-4 mt-4 flex justify-evenly"
                    >
                      <a href="/update/<%= student._id %>"
                        ><svg
                          width="24"
                          height="24"
                          class="text-purple-900"
                          fill="none"
                          viewBox="0 0 24 24"
                        >
                          <path
                            stroke="currentColor"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="1.5"
                            d="M4.75 19.25L9 18.25L18.2929 8.95711C18.6834 8.56658 18.6834 7.93342 18.2929 7.54289L16.4571 5.70711C16.0666 5.31658 15.4334 5.31658 15.0429 5.70711L5.75 15L4.75 19.25Z"
                          ></path>
                          <path
                            stroke="currentColor"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="1.5"
                            d="M19.25 19.25H13.75"
                          ></path>
                        </svg>
                      </a>

                      <form
                        action="/Student/<%= student._id %>?_method=DELETE"
                        method="POST"
                      >
                        <button type="submit">
                          <svg
                            width="24"
                            class="text-purple-900"
                            height="24"
                            fill="none"
                            viewBox="0 0 24 24"
                          >
                            <path
                              stroke="currentColor"
                              stroke-linecap="round"
                              stroke-linejoin="round"
                              stroke-width="1.5"
                              d="M6.75 7.75L7.59115 17.4233C7.68102 18.4568 8.54622 19.25 9.58363 19.25H14.4164C15.4538 19.25 16.319 18.4568 16.4088 17.4233L17.25 7.75"
                            ></path>
                            <path
                              stroke="currentColor"
                              stroke-linecap="round"
                              stroke-linejoin="round"
                              stroke-width="1.5"
                              d="M9.75 7.5V6.75C9.75 5.64543 10.6454 4.75 11.75 4.75H12.25C13.3546 4.75 14.25 5.64543 14.25 6.75V7.5"
                            ></path>
                            <path
                              stroke="currentColor"
                              stroke-linecap="round"
                              stroke-linejoin="round"
                              stroke-width="1.5"
                              d="M5 7.75H19"
                            ></path>
                          </svg>
                        </button>
                      </form>
                    </td>
                  </tr>
                  <% } %>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </section>
  </body>
</html>
